{"ast":null,"code":"import React,{useState}from'react';import UpdateProduct from'./UpdateProduct';import DeleteProduct from'./DeleteProduct';import{aumentarCaixas,diminuirCaixas}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=_ref=>{let{products,updateProducts}=_ref;// Inicializa o valor com uma string vazia ao invés de null\nconst[selectedProductId,setSelectedProductId]=useState(products.length>0?products[0].id:\"\");const handleIncrease=async()=>{if(selectedProductId){await aumentarCaixas(selectedProductId,1);// Aumenta 1 caixa para o produto selecionado\nupdateProducts();// Atualiza a lista após aumento\n}};const handleDecrease=async()=>{if(selectedProductId){await diminuirCaixas(selectedProductId,1);// Diminui 1 caixa para o produto selecionado\nupdateProducts();// Atualiza a lista após diminuição\n}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Product List\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Item\"}),/*#__PURE__*/_jsx(\"th\",{children:\"preco\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantidade em Estoque\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantidade M\\xEDnima em Estoque\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nome do Setor\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.item}),/*#__PURE__*/_jsxs(\"td\",{children:[product.preco,\" reais\"]}),/*#__PURE__*/_jsx(\"td\",{children:product.quantidade_estoque}),/*#__PURE__*/_jsx(\"td\",{children:product.quantidade_minima_estoque}),/*#__PURE__*/_jsx(\"td\",{children:product.nome_setor})]},product.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"product-select\",children:\"Escolha um produto:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"product-select\",value:selectedProductId,onChange:e=>setSelectedProductId(e.target.value)// Atualiza o ID do produto selecionado\n,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Selecione um produto\"}),products.map(product=>/*#__PURE__*/_jsxs(\"option\",{value:product.id,children:[product.item,\" (Estoque: \",product.quantidade_estoque,\")\"]},product.id))]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleIncrease,children:\"Aumentar Caixas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDecrease,className:\"decrease\",children:\"Diminuir Caixas\"})]})]});};export default ProductList;","map":{"version":3,"names":["React","useState","UpdateProduct","DeleteProduct","aumentarCaixas","diminuirCaixas","jsx","_jsx","jsxs","_jsxs","ProductList","_ref","products","updateProducts","selectedProductId","setSelectedProductId","length","id","handleIncrease","handleDecrease","children","map","product","item","preco","quantidade_estoque","quantidade_minima_estoque","nome_setor","className","htmlFor","value","onChange","e","target","disabled","onClick"],"sources":["C:/Users/Rafael/Documents/ADS/ADS5A/Software Product/api_ms_dev-dev/app/fronted/src/components/ProductList.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport UpdateProduct from './UpdateProduct';\r\nimport DeleteProduct from './DeleteProduct';\r\nimport { aumentarCaixas, diminuirCaixas } from '../api';\r\n\r\nconst ProductList = ({ products, updateProducts }) => {\r\n  // Inicializa o valor com uma string vazia ao invés de null\r\n  const [selectedProductId, setSelectedProductId] = useState(products.length > 0 ? products[0].id : \"\");\r\n\r\n  const handleIncrease = async () => {\r\n    if (selectedProductId) {\r\n      await aumentarCaixas(selectedProductId, 1);  // Aumenta 1 caixa para o produto selecionado\r\n      updateProducts();  // Atualiza a lista após aumento\r\n    }\r\n  };\r\n\r\n  const handleDecrease = async () => {\r\n    if (selectedProductId) {\r\n      await diminuirCaixas(selectedProductId, 1);  // Diminui 1 caixa para o produto selecionado\r\n      updateProducts();  // Atualiza a lista após diminuição\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Product List</h2>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Item</th>\r\n            <th>preco</th>\r\n            <th>Quantidade em Estoque</th>\r\n            <th>Quantidade Mínima em Estoque</th>\r\n            <th>Nome do Setor</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map((product) => (\r\n            <tr key={product.id}>\r\n              <td>{product.item}</td>\r\n              <td>{product.preco} reais</td>\r\n              <td>{product.quantidade_estoque}</td>\r\n              <td>{product.quantidade_minima_estoque}</td>\r\n              <td>{product.nome_setor}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* Campo de seleção de produto e botões de ação */}\r\n      <div className=\"actions\">\r\n        <label htmlFor=\"product-select\">Escolha um produto:</label>\r\n        <select\r\n          id=\"product-select\"\r\n          value={selectedProductId}\r\n          onChange={(e) => setSelectedProductId(e.target.value)}  // Atualiza o ID do produto selecionado\r\n        >\r\n          <option value=\"\" disabled>Selecione um produto</option>\r\n          {products.map((product) => (\r\n            <option key={product.id} value={product.id}>\r\n              {product.item} (Estoque: {product.quantidade_estoque})\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <button onClick={handleIncrease}>Aumentar Caixas</button>\r\n        <button onClick={handleDecrease} className=\"decrease\">Diminuir Caixas</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}